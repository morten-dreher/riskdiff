[{"path":"/articles/introduction.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to the riskdiff package","text":"document provides brief introduction discrete risk differences R package riskdiff. First, load package: Presume perform clinical trial two groups binary endpoint. means comparison two rates πt\\pi_t treatment group πc\\pi_c control group. illustration purposes, let πt\\pi_t πc\\pi_c simply describe rates “treatment success” treatment control group, respectively. words, treatment higher rate favourable one example formulate null hypothesis H0:πt≤πcH_0: \\pi_t \\leq \\pi_c. large enough sample sizes ntn_t, ncn_c treatment control group, may use normal approximation answer research question. However, small sample sizes, approximation may inadequate one may interested exact results. riskdiff package concerns (exact) distribution risk differences therefore, described detail . Note can rewrite null hypothesis H0:πt≤πc⇔Δπ:=πt−πc≤0H_0: \\pi_t \\leq \\pi_c \\Leftrightarrow \\Delta_\\pi:= \\pi_t - \\pi_c \\leq 0, Δπ\\Delta_\\pi denotes risk difference. risk difference thought real-valued number 1 -1, since simply defined subtracting two rates, risk difference observed clinical trial actuality discrete random variable finite support. illustrate , presume perform experiment 4 patients treatment group 3 patients control group (note trial likely lead significant results, serves illustration purposes ). independent patients groups, can describe number successes group using binomially distributed random variables XiX_i, ∈{t,c}\\\\{t,c\\} denotes respective group. Thus, Xt∼Bin(4,πt)X_t \\sim Bin(4, \\pi_t) Xc∼Bin(3,πc)X_c\\sim Bin(3, \\pi_c) describe number successes treatment control group, respectively. groups, number successes can observe clearly finite (0, 1, 2, 3, 4 successes treatment group 0, 1, 2, 3 successes control group), meaning observed success rates discrete quantity (0/4, 1/4, 2/4, 3/4, 4/4 treatment group 0/3, 1/3, 2/3, 3/3 control group). Since observed risk difference just difference discrete success rates, also discrete quantity. possible values can take can visualised table: table entry taken subtracting number successes control group (displayed row names) number successes treatment group (displayed column names). ease presentation, common denominator 12 used entries. table, two things become apparent: 1) every value can reached (e.g., risk difference 11/12 possible given sample sizes). 2) values may occur . example, risk difference 0/12 can occur either patients experience treatment success patients experience treatment failure. phenomenon always occurs risk difference 0, regardless sample sizes, may also occur risk differences, group sizes coprime (consider group sizes 8 4, risk difference 8/32 can reached via 8/8 3/4 successes, 6/8 2/4 successes, 4/8 1/4 successes well 2/8 0/4 successes). Since two groups patients within assumed independent, probability risk difference table occurring simply calculated multiplying marginal probabilities. Assuming success probabilities πt=0.6\\pi_t = 0.6 πc=0.3\\pi_c=0.3, calculation probabilities straightforward. example, probability observed risk difference 12/12 simply probability observing 4 successes treatment group times probability observing 0 successes control group: P(Δπ=12/12)=P(Xt=4)⋅P(Xc=0)=(44)0.64⋅(30)(1−0.3)3=0.0445. P(\\Delta_\\pi = 12/12) = P(X_t=4) \\cdot P(X_c=0) = \\binom{4}{4}0.6^4\\cdot \\binom{3}{0}(1-0.3)^3 = 0.0445. Completing table yields: Alternatively, calculate scenario aforementioned null hypothesis, e.g. equal success rates πt=πc=0.3\\pi_t = \\pi_c = 0.3, equating risk difference Δπ=0\\Delta_\\pi=0. yields table: may summarise order probabilities risk differences. summarising, must keep mind , mentioned , risk difference 0 can reached two combinations (successes failures). Accordingly, must sum probabilities overall probability risk difference 0. Note possible ordering, also choose ordering based probabilities alone. Plotting individual probabilities risk difference yields interesting picture:  Clearly, distribution risk difference symmetric around 0 H0H_0. Furthermore, probability observing risk difference 0 rather low, compared values vicinity. reasoning intuitive, given example coprime sample sizes, risk difference 0 achieved treatment success observed patients treatment failure observed patients. assumed moderate success probability 0.30.3, neither events overwhelmingly likely.","code":"library(riskdiff) rds <- c(c(12, 9, 8, 6, 5, 4, 3, 2, 1)/(-12), c(0, 1, 2, 3, 4, 5, 6, 8, 9, 12)/12) probs <- c(0.065,0.0111, 0.0454, 0.0071, 0.0778, 0.1059, 0.0020, 0.0500,             0.1815, 0.0826, 0.0142, 0.1167, 0.1412, 0.0015, 0.0333, 0.0908,             0.0036, 0.0259, 0.0028)  plot(rds, probs, xlab = \"Risk difference\", ylab = \"Probability\",       main = \"Risk difference distribution under H0\") lines(rds, probs)"},{"path":"/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Morten Dreher. Author, maintainer.","code":""},{"path":"/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Dreher M (2024). riskdiff: Exact distribution risk differences. R package version 0.0.0.9000.","code":"@Manual{,   title = {riskdiff: Exact distribution of risk differences},   author = {Morten Dreher},   year = {2024},   note = {R package version 0.0.0.9000}, }"},{"path":"/reference/driskdiff.html","id":null,"dir":"Reference","previous_headings":"","what":"Density of exact risk difference — driskdiff","title":"Density of exact risk difference — driskdiff","text":"Density exact risk difference","code":""},{"path":"/reference/driskdiff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Density of exact risk difference — driskdiff","text":"","code":"driskdiff(p0, p1, n0, n1)"}]
